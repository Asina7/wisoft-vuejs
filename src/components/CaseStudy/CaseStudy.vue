<template>
    <div>
        <main>

<!-- Portfolio area start -->
<section class="portfolio__area-6">
  <div class="container line pt-100 pb-140">
    <span class="line-3"></span>
    <div class="zi-9">
      <div class="row">
        <div class="col-xxl-4 col-xl-5 col-lg-5 col-md-6">
          <div class="sec-title-wrapper portfolio__title-wrap-6">
            <div class="">
              <h2 class="sec-sub-title animation__char_come">FEATURED</h2>
              <h3 class="sec-title animation__char_come_long">Work</h3>
              <p>View the full case study of our recent featured and awesome works that we created for our
                clients.
              </p>
            </div>
            <div class="portfolio__pagination-6">
              <span class="portfolio__current">01</span> / <span class="portfolio__total"></span>
            </div>
          </div>
        </div>

        <div class="col-xxl-8 col-xl-7 col-lg-7 col-md-6">
          <div class="portfolio__wrapper-6">
            <div class="portfolio__list-6">
              <div class="portfolio__item-6" data-portfitem="1">
                <router-link :to="'/casestudydetail/1'">
                  <img src="@/assets/imgs/portfolio/6/1.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="2">
                <router-link :to="'/casestudydetail/2'">
                  <img src="@/assets/imgs/portfolio/6/2.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="3">
                <router-link :to="'/casestudydetail/3'">
                  <img src="@/assets/imgs/portfolio/6/3.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="4">
                <router-link :to="'/casestudydetail/4'">
                  <img src="@/assets/imgs/portfolio/6/4.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="5">
                <router-link :to="'/casestudydetail/5'">
                  <img src="@/assets/imgs/portfolio/6/5.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="6">
                <router-link :to="'/casestudydetail/6'">
                  <img src="@/assets/imgs/portfolio/6/6.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="7">
                <router-link :to="'/casestudydetail/7'">
                  <img src="@/assets/imgs/portfolio/6/7.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="8">
                <router-link :to="'/casestudydetail/8'">
                  <img src="@/assets/imgs/portfolio/6/2.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="9">
                <router-link :to="'/casestudydetail/9'">
                  <img src="@/assets/imgs/portfolio/6/3.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="10">
                <router-link :to="'/casestudydetail/10'">
                  <img src="@/assets/imgs/portfolio/6/5.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="11">
                <router-link :to="'/casestudydetail/11'">
                  <img src="@/assets/imgs/portfolio/6/7.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>

              <div class="portfolio__item-6" data-portfitem="12">
                <router-link :to="'/casestudydetail/12'">
                  <img src="@/assets/imgs/portfolio/6/1.jpg" alt="Portfolio Image" data-speed="0.4">
                  <div class="portfolio__content-6">
                    <h4 class="portfolio__title-6">Lionpro Agency</h4>
                    <h5 class="portfolio__date">02 May 2021</h5>
                  </div>
                </router-link>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Portfolio area end -->


<!-- CTA area start -->
<section class="cta__area">
  <div class="container line pb-110">
    <div class="line-3"></div>
    <div class="row">
      <div class="col-xxl-12">
        <div class="cta__content">
          <p class="cta__sub-title">Work with us</p>
          <h2 class="cta__title title-anim">We would love to hear more about your project</h2>
          <div id="btn_wrapper">
            <a href="/contact" class="wc-btn-primary btn-hover btn-item"><span></span>Letâ€™s talk us <i
                class="fa-solid fa-arrow-right"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- CTA area end -->

</main>
<FloatingWhatsapp></FloatingWhatsapp>
<div class="offcanvas__close">
        <router-link :to="{ path: '/' }">
          <button type="button" id="close_offcanvas">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </router-link>
        </div>
    </div>
</template>
<script>
  import $ from "jquery";
  import { gsap } from 'gsap';
  import {ScrollTrigger} from 'gsap/ScrollTrigger';
  gsap.registerPlugin(ScrollTrigger);
  import FloatingWhatsapp from '@/components/Home/FloatingWhatsapp.vue';
export default {
    name:"CaseStudy",
    components :{
      FloatingWhatsapp,
    },
    
    mounted () {
      this.paralexcasestudy()
    },
    
    methods: {

      offcanvascontact(){
  $("#open_offcanvas").click(function () {
  $('.offcanvas__area').css('opacity', '1');
  $('.offcanvas__area').css('visibility', 'visible');
});
$("#close_offcanvas").click(function () {
  $('.offcanvas__area').css('opacity', '0');
  $('.offcanvas__area').css('visibility', 'hidden');
});
},
      paralexcasestudy: function(){
     
        // ---
      const portfolio_listss = gsap.utils.toArray(".portfolio__item-6 img")
        if (portfolio_listss) {
          portfolio_listss.forEach((item, i) => {
            gsap.from(item, {
              scrollTrigger: {
                trigger: item,
                start: "top center",
                scrub: 1.5,
              },
              scale: 2.5,
              duration: 1,
            })
          })
        }
        // ---
      var total_portfolio_item = $('.portfolio__item-6').length;
      if (total_portfolio_item) {
        $('.portfolio__total').html(total_portfolio_item);
      }


      // --
      ScrollTrigger.create({
        trigger: ".portfolio__wrapper-6",
        start: "top top",
        end: "bottom bottom",
        pin: ".portfolio__title-wrap-6",
        pinSpacing: false,
      });
  // ----
      // --
      $(document).on('scroll', function () {
        $('.portfolio__item-6').each(function () {
          if ($(this).position().top <= $(document).scrollTop() && ($(this).position().top + $(this).outerHeight()) > $(document).scrollTop()) {
            var item_num = $(this).data('portfitem');
            $('.portfolio__current').html(item_num);
            $(this).addClass('active').siblings().removeClass('active');
          }
        });
      });
        }
    },
    created () {
    const hasRefreshed = localStorage.getItem('hasRefreshed')
    if (!hasRefreshed) {
      location.reload()
      localStorage.setItem('hasRefreshed', 'true')
    }
  },
}
</script>
<style>
  .offcanvas__close button {
    font-size: 30px;
    width: 55px;
    position:fixed;
    top:20px;
    right:20px;
}
@media screen and (max-width:768px){
  #close_offcanvas{
    display:none;
  }
}
</style>